{"version":3,"file":"public_js_sitemap_js.bundle.js","mappings":";;;;;;;;;;;;;;;;;AAA2C;AACmB;AACxB;AACtC;AACO;AACP;AACA,QAAQ,gEAAa;AACrB,oBAAoB,IAAI,sDAAgB,EAAE;AAC1C,mBAAmB,+CAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,CAAC;AACjB,gBAAgB,CAAC;AACjB;AACA;AACA;AACA,iDAAiD,kCAAkC;AACnF,YAAY,CAAC;AACb,UAAU;AACV;AACA;AACA,YAAY,CAAC;AACb;AACA;AACA,IAAI,mDAAY;AAChB;AACA;AACA;AACA;AACA,QAAQ,6DAAsB;AAC9B,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,IAAI,CAAC;AACL,IAAI,CAAC;AACL,oBAAoB,IAAI,sDAAgB,EAAE;AAC1C,mBAAmB,+CAAS;AAC5B;AACA;AACA;AACA;AACA;AACA,YAAY,CAAC;AACb;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://sc-library/./public/js/sitemap.js"],"sourcesContent":["import firebase from \"firebase/compat/app\";\r\nimport { convertDataTagsToLinks, isAdminCheck } from \"./ajax\";\r\nimport { directory } from \"./globals\";\r\n\r\nexport function setupSitemap() {\r\n    var folder = \"\", blacklist = ['404', 'autogenindex', 'account', 'result'];\r\n    if (firebase.auth().currentUser) blacklist.push('login', 'signup');\r\n    for (let i = 0; i < directory.length; i++) {\r\n        var page = directory[i].substring(1);\r\n        if (blacklist.indexOf(page) != -1) continue;\r\n        var slash = page.indexOf('/');\r\n        if (slash != -1) {\r\n            var newFolder = page.substring(0, slash);\r\n            page = page.substring(slash + 1);\r\n            if (newFolder == \"admin\") continue;\r\n            if (folder != newFolder && newFolder != \"\") {\r\n                $('#sitemap').append(\"<li>\" + formatPageString(newFolder) + \"</li>\");\r\n                $('#sitemap').append(\"<ul id='\" + newFolder + \"'></ul>\");\r\n            }\r\n            folder = newFolder;\r\n            var char;\r\n            if (folder == \"account\") char = \"?\"; else if (folder == \"\") char = \"\"; else char = \"/\";\r\n            $('#' + folder).append(\"<li><a data-link-target='\" + folder + char + page + \"'>\" + formatPageString(page) + \"</a></li>\");\r\n        } else {\r\n            folder = \"\";\r\n            char = \"\";\r\n            $('#sitemap').append(\"<li><a data-link-target='\" + folder + char + page + \"'>\" + formatPageString(page) + \"</a></li>\");\r\n        }\r\n    }\r\n    isAdminCheck().then((isAdmin) => {\r\n        if (isAdmin) {\r\n            buildAdminSitemap();\r\n        }\r\n\r\n        convertDataTagsToLinks();\r\n    }).catch((error) => {\r\n        console.error(error);\r\n    });\r\n}\r\n\r\nfunction buildAdminSitemap() {\r\n    $('#sitemap').append(\"<li>Admin</li>\");\r\n    $('#sitemap').append(\"<ul id='admin'></ul>\");\r\n    for (let i = 0; i < directory.length; i++) {\r\n        var page = directory[i].substring(1);\r\n        var slash = page.indexOf('/');\r\n        if (slash != -1) {\r\n            var newFolder = page.substring(0, slash);\r\n            page = page.substring(slash + 1);\r\n            if (newFolder != \"admin\") continue;\r\n            $('#admin').append(\"<li><a data-link-target='admin/\" + page + \"'>\" + formatPageString(page) + \"</a></li>\");\r\n        }\r\n    }\r\n}\r\n\r\nfunction formatPageString(page) {\r\n    page = page.charAt(0).toUpperCase() + page.substring(1);\r\n    for (let i = 1; i < page.length; i++) {\r\n        if (/[A-Z]/.test(page.charAt(i))) {\r\n            page = page.substring(0, i) + \" \" + page.substring(i);\r\n            i++;\r\n        }\r\n    }\r\n    return page;\r\n}\r\n"],"names":[],"sourceRoot":""}